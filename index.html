<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Inkwell</title>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@2/css/pico.min.css">
    <link rel="modulepreload" href="https://unpkg.com/@hotwired/stimulus/dist/stimulus.js">
    <link rel="stylesheet" href="/styles/app.css?2">
    <link rel="stylesheet" href="/styles/reader.css?2">
  </head>
  <body>
    <main data-controller="auth session">
      <section class="auth-screen" data-auth-target="signin">
        <div class="auth-card">
          <p class="eyebrow">Inkwell</p>
          <p class="lede">
            Feed reader with Micro.blog sync and highlighting.
          </p>
          <label>
            <input
              type="password"
              placeholder="Micro.blog token"
              autocomplete="off"
              autocapitalize="off"
              autocorrect="off"
              spellcheck="false"
              data-auth-target="tokenInput"
              data-action="change->auth#saveMicroBlogToken blur->auth#saveMicroBlogToken"
            >
          </label>
          <button class="contrast" data-action="auth#signin">
            Sign in with Micro.blog
          </button>
        </div>
      </section>

      <section class="app-shell" data-auth-target="app" hidden>
        <div class="layout">
          <aside class="left-pane" data-controller="timeline">
            <header class="sidebar-header">
              <div class="sidebar-controls">
                <div class="user-menu" data-controller="user-menu">
                  <button
                    type="button"
                    class="avatar-button"
                    data-user-menu-target="button"
                    data-action="user-menu#toggle"
                    aria-haspopup="menu"
                    aria-expanded="false"
                  >
                    <img class="sidebar-logo" src="/images/avatar-placeholder.svg" alt="User avatar" data-auth-target="avatar">
                  </button>
                  <div class="user-menu-popover" data-user-menu-target="popover" hidden>
                    <a class="user-menu-item" href="https://micro.blog" data-action="user-menu#close">
                      Go to Micro.blog
                    </a>
                    <button type="button" class="user-menu-item" data-action="user-menu#markAllRead user-menu#close">
                      Mark All as Read
                    </button>
                    <button type="button" class="user-menu-item" data-action="user-menu#close auth#signout">
                      Sign Out
                    </button>
                  </div>
                </div>
                <div class="segments" data-timeline-target="segments">
                  <button type="button" data-segment="today" data-action="timeline#showToday" aria-pressed="true">
                    Today
                  </button>
                  <button type="button" data-segment="recent" data-action="timeline#showRecent">
                    Recent
                  </button>
                  <button type="button" data-segment="fading" data-action="timeline#showFading">
                    Fading
                  </button>
                </div>
                <div class="search-field" data-timeline-target="search" hidden>
                  <input
                    type="search"
                    placeholder="Search"
                    data-timeline-target="searchInput"
                  >
                </div>
                <button
                  type="button"
                  class="search-toggle"
                  data-action="timeline#toggleSearch"
                  data-timeline-target="searchToggle"
                  aria-label="Search"
                >
                  <svg class="icon-search" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <circle cx="11" cy="11" r="7"></circle>
                    <path d="M16.65 16.65L21 21"></path>
                  </svg>
                  <img class="icon-spinner" src="/images/progress_spinner.svg" alt="" aria-hidden="true">
                  <svg class="icon-close" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M6 6L18 18"></path>
                    <path d="M18 6L6 18"></path>
                  </svg>
                </button>
              </div>
            </header>
            <div class="timeline" data-timeline-target="list"></div>
          </aside>

          <section class="right-pane" data-controller="reader highlight highlights">
            <div class="right-content">              
              <header class="reader-header">
                <div class="segments reader-tabs">
                  <button
                    type="button"
                    class="reader-tab"
                    data-action="highlights#showReader"
                    data-highlights-target="readerTab"
                    aria-pressed="true"
                  >
                    <img class="reader-avatar" src="/images/avatar-placeholder.svg" alt="" data-reader-target="avatar" hidden>
                    <span data-reader-target="title">Select a post</span>
                  </button>
                  <button
                    type="button"
                    class="highlights-toggle"
                    data-action="highlights#showHighlights"
                    data-highlights-target="toggle"
                    aria-pressed="false"
                    hidden
                  >
                    0 highlights
                  </button>
                </div>
                <div class="reader-actions">
                  <p class="reader-meta" data-reader-target="meta"></p>
                  <button
                    type="button"
                    class="mark-unread"
                    data-reader-target="markUnread"
                    data-action="reader#toggleRead"
                    disabled
                  >
                    Mark unread
                  </button>
                </div>
              </header>
  
              <div class="reader-pane" data-highlights-target="readerPane">
                <article
                  class="reader-content"
                  data-reader-target="content"
                  data-highlight-target="content"
                ></article>
  
                <div class="highlight-toolbar" data-highlight-target="toolbar" hidden>
                  <button type="button" data-action="highlight#create">Highlight</button>
                </div>
              </div>
  
              <div class="highlights-pane" data-highlights-target="highlightsPane" hidden>
                <div class="highlights-list" data-highlights-target="list"></div>
              </div>
            </div>
          </section>
        </div>
      </section>
    </main>

    <script type="module" src="/js/app.js?2"></script>
  </body>
</html>
