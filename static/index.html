<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Inkwell</title>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@2/css/pico.min.css">
    <link rel="modulepreload" href="https://unpkg.com/@hotwired/stimulus/dist/stimulus.js">
    <link rel="stylesheet" href="/styles/app.css?20260121.1">
    <link rel="stylesheet" href="/styles/reader.css?20260121.1">
  </head>
  <body>
    <main data-controller="auth session" data-auth-state="loading">
      <section class="auth-screen" data-auth-target="signin">
        <div class="auth-card">
          <p class="eyebrow">Inkwell</p>
          <p class="lede">
            Feed reader with Micro.blog sync and highlighting.
          </p>
          <button data-action="auth#signin">
            Sign in with Micro.blog
          </button>
        </div>
      </section>

      <section class="app-shell" data-auth-target="app" hidden>
        <div class="layout">
          <aside class="left-pane" data-controller="timeline">
            <header class="sidebar-header">
              <div class="sidebar-controls">
                <div class="user-menu" data-controller="user-menu">
                  <button
                    type="button"
                    class="avatar-button"
                    data-user-menu-target="button"
                    data-action="user-menu#toggle"
                    aria-haspopup="menu"
                    aria-expanded="false"
                  >
                    <img class="sidebar-logo" src="/images/blank_avatar.png" alt="User avatar" data-auth-target="avatar">
                  </button>
                  <div class="user-menu-popover" data-user-menu-target="popover" hidden>
                    <a class="user-menu-item" href="https://micro.blog" data-action="user-menu#close">
                      Go to Micro.blog
                    </a>
                    <button type="button" class="user-menu-item" data-action="user-menu#markAllRead user-menu#close">
                      Mark All as Read
                    </button>
					<button type="button" class="user-menu-item" data-action="user-menu#openSubscriptions user-menu#close" data-user-menu-mode="subscribe">
						New Feed...
					</button>
					<button type="button" class="user-menu-item" data-action="user-menu#openSubscriptions user-menu#close" data-user-menu-mode="manage">
						Manage Feeds
					</button>
                    <button type="button" class="user-menu-item" data-action="user-menu#close auth#signout">
                      Sign Out
                    </button>
                  </div>
                </div>
                <div class="segments" data-timeline-target="segments">
                  <button type="button" data-segment="today" data-action="timeline#showToday" aria-pressed="true">
                    Today
                  </button>
                  <button type="button" data-segment="recent" data-action="timeline#showRecent">
                    Recent
                  </button>
                  <button type="button" data-segment="fading" data-action="timeline#showFading">
                    Fading
                  </button>
                </div>
                <div class="search-field" data-timeline-target="search" hidden>
                  <input
                    type="search"
                    placeholder="Search"
                    data-timeline-target="searchInput"
                  >
                </div>
                <button
                  type="button"
                  class="search-toggle"
                  data-action="timeline#toggleSearch"
                  data-timeline-target="searchToggle"
                  aria-label="Search"
                >
                  <svg class="icon-search" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <circle cx="11" cy="11" r="7"></circle>
                    <path d="M16.65 16.65L21 21"></path>
                  </svg>
                  <img class="icon-spinner" src="/images/progress_spinner.svg" alt="" aria-hidden="true">
                  <svg class="icon-close" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M6 6L18 18"></path>
                    <path d="M18 6L6 18"></path>
                  </svg>
                </button>
              </div>
            </header>
            <div class="timeline" data-timeline-target="list"></div>
          </aside>

          <section class="right-pane" data-controller="reader highlight highlights subscriptions">
            <div class="right-content">              
				<div class="reader-view" data-subscriptions-target="readerView">
					<header class="reader-header">
						<div class="segments reader-tabs">
							<button
								type="button"
								class="reader-tab"
								data-action="highlights#showReader"
								data-highlights-target="readerTab"
								aria-pressed="true"
							>
								<img class="reader-avatar" src="/images/blank_avatar.png" alt="" data-reader-target="avatar" hidden>
								<span data-reader-target="title">Select a post</span>
							</button>
							<button
								type="button"
								class="highlights-toggle"
								data-action="highlights#showHighlights"
								data-highlights-target="toggle"
								aria-pressed="false"
								hidden
							>
								0 highlights
							</button>
						</div>
						<div class="reader-actions">
							<p class="reader-meta" data-reader-target="meta"></p>
							<button
								type="button"
								class="mark-unread"
								data-reader-target="markUnread"
								data-action="reader#toggleRead"
								disabled
							>
								Mark unread
							</button>
						</div>
					</header>

					<div class="reader-pane" data-highlights-target="readerPane">
						<article
							class="reader-content"
							data-reader-target="content"
							data-highlight-target="content"
						></article>

						<div class="highlight-toolbar" data-highlight-target="toolbar" hidden>
							<button type="button" data-action="highlight#create">Highlight</button>
						</div>
					</div>

					<div class="highlights-pane" data-highlights-target="highlightsPane" hidden>
						<div class="highlights-list" data-highlights-target="list"></div>
					</div>
				</div>

				<section class="subscriptions-pane" data-subscriptions-target="pane" hidden>
					<header class="subscriptions-header">
						<h2>Subscriptions</h2>
						<div class="subscriptions-actions">
							<button type="button" class="btn-sm" data-action="subscriptions#startNewFeed">New Feed...</button>
							<button type="button" class="btn-sm">Import...</button>
							<button type="button" class="btn-sm">Export</button>
						</div>
					</header>
					<div class="subscriptions-form" data-subscriptions-target="formWrapper" hidden>
						<form data-action="subscriptions#subscribe">
							<div class="subscriptions-form-row">
								<input
									type="url"
									placeholder="RSS or JSON Feed URL"
									autocomplete="off"
									spellcheck="false"
									data-subscriptions-target="input"
								>
								<button type="submit" data-subscriptions-target="submit">
									Subscribe
								</button>
							</div>
							<div class="subscriptions-status">
								<img class="subscriptions-spinner" src="/images/progress_spinner.svg" alt="" aria-hidden="true" data-subscriptions-target="spinner" hidden>
								<span class="subscriptions-status-text" data-subscriptions-target="status" hidden></span>
							</div>
						</form>
					</div>
					<div class="subscriptions-list" data-subscriptions-target="list"></div>
				</section>
            </div>
          </section>
        </div>
      </section>
    </main>

    <script type="module" src="/js/app.js?20260121.1"></script>
  </body>
</html>
